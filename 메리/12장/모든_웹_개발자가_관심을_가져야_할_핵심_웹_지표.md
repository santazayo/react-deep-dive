### Summary
- 핵심 웹 지표와 웹사이트의 성능과 사용자 경험 사이에 대해서 알 수 있어요.

### Advantages
### 웹사이트와 성능
#### ✅ 사용자가 웹 사이트에 접속했을 때 공통적으로 기대하는 사항
- <strong>방문한 목적을 손쉽게 달성</strong>할 수 있어야 한다.
- <strong>첫번째 목적을 달성하는데 걸리는 시간</strong>이 짧아야 한다.
- 웹사이트에서 개인정보가 누출되는 등의 사고 없이 <strong>보안이 철저</strong>해야 한다.

### 핵심 웹 지표 (Core Web Vitals)
#### 🎨 LCP (Largest Contentful Paint)
- 페이지가 처음으로 로드를 시작한 시점부터 뷰포트 내부에서 <strong>가장 큰 이미지 또는 텍스트를 렌더링하는데 걸리는 시간</strong>
- 사용자에게 페이지 정보를 화면에 전달하는 속도를 객관적으로 판단하기 위한 지표

##### 기준 점수
- 2.5초 이하: 좋음
- 2.5초 ~ 4초: 개선이 필요
- 4초 이상: 나쁨

##### 개선 방법
- LCP 지표에 이미지가 아닌 문자열을 넣는게 확실히 더 빠르다. 가능한 한 <strong>텍스트</strong>로 채우는 것이 좋다.

##### 이미지 로딩 방법
개발자가 선택할 수 있는 이미지 노출 방법

```html
<!-- 1. img -->
<img src="lcp.jpg" ... />

<!-- 2. svg -->
<svg xmlns="http://www.w3.org/1000/svg">
	<image href="lcp.jpg" />
</svg>

<!-- 3. (비디오의 경우) video.poster -->
<video poster="lcp.jpg"></video>

<!-- 4. background-image: url() -->
<div style="background-image: url(lcp.jpg)">...<div/>
```

✅ img, video 가 이미지 노출 속도 빠르다.

#### 🎨 FID (First Input Delay)
- 사용자가 얼마나 빠르게 웹페이지와의 상호작용에 대한 응답을 받을 수 있는지 측정하는 지표
- 최초의 입력 하나에 대해서만 그 응답 지연이 얼마나 걸리는지 판단
- 웹사이트 내부의 이벤트 반응이 늦어지는 이유는 브라우저의 메인 스레드가 바쁘기 때문이다. 바쁜 이유는 대규모 렌더링이 일어나거나 대규모 JS 파일을 분석하고 실행하는 등 다른 작업을 처리하는데 리소스를 할애하고 있기 때문이다.
- 메인 스레드가 바쁜 경우, JS 실행 환경은 ‘싱글 스레드’이기 때문에 자바스크립트가 이벤트 리스너와 같은 다른 작업을 실행할 수 없어 지연이 발생한다.

구글은 사용자 경험을 크게 4가지로 분류하는데 이를 `RAIL`이라고 한다.

Response: 사용자의 입력에 대한 반응 속도, 50ms 미만으로 이벤트를 처리할 것
Animation: 애니메이션의 각 프레임을 10ms 이하로 생성할 것
Idle: 유휴 시간을 극대화해 페이지가 50ms 이내에 사용자 입력에 응답하도록 할 것
Load: 5초 이내에 콘텐츠를 전달하고 인터렉션을 준비할 것

##### 기준 점수
- 100ms 이하: 좋음
- 100ms ~ 300ms: 개선이 필요
- 300ms 이상: 나쁨

##### 개선 방법
- 실행에 오래 걸리는 긴 작업을 분리한다.
- 자바스크립트 코드를 최소화 및 최적화한다.
- 타사 자바스크립트 코드 실행을 지연한다.

#### 🎨 CLS (Cumulative Layout Shift)
- 페이지의 생명주기 동안 발생하는 모든 예기치 않은 이동에 대한 지표를 계산하는 것
- 사용자의 액션으로 인해 발생한 레이아웃 이동은 점수에 포함되지 않는다.
🧮 CLS를 계산할 때 포함되는 항목
- 영향분율: 레이아웃 이동이 발생한 요소의 전체높이와 뷰포트 높이의 비율
- 거리분율: 레이아웃 이동이 발생한 요소가 뷰포트 대비 얼마나 이동했는지

##### 기준 점수
- 0.1 이하: 좋음
- 0.1 ~ 0.25: 개선이 필요
- 0.25 이상: 나쁨

##### 개선 방법
- 삽입이 예상되는 요소를 위한 추가적인 공간 확보을 확보한다. ➡️ 가장 좋은 방법은 서버 사이드 렌더링이다.
- 폰트 로딩을 최적화한다.
- 적절한 이미지 크기를 사용한다.

### 보조 지표
#### 🎨 TTFB (Time To First Byte)
- 브라우저가 웹페이지의 첫 번째 바이트를 수신하는 데 걸리는 시간
- 페이지를 요청했을 때, 요청이 완전히 완료되는 데 걸리는 시간을 측정하는 게 아닌, 최초의 응답이 오는 바이트까지가 얼마나 걸리는지 측정하는 지표

#### 🎨 FCP (First Contentful Paint)
- 페이지가 로드되기 시작한 시점부터 페이지 콘텐츠의 일부가 화면에 렌더링될 때까지의 시간
- 웹사이트에 접속한 순간부터 페이지에 뭐라도 뜨기 시작한 시점까지의 시간




